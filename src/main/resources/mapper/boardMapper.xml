<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.shoppingShop.dao.BoardDao">

    <!-- 게시글 목록 가져오기 (페이징 적용) -->
    <select id="selectBoardListAll" resultType="com.shoppingShop.domain.BoardDto">
        SELECT notice_id, title, user_id, content, created_at, updated_at
        FROM notice
        ORDER BY notice_id DESC
            LIMIT #{offset}, #{pageSize}
    </select>

    <!-- 전체 게시글 수를 세기 위한 쿼리 -->
    <select id="countAllBoards" resultType="int">
        SELECT COUNT(*)
        FROM notice
    </select>

    <select id="selectNoticeById" resultType="com.shoppingShop.domain.BoardDto">
        SELECT notice_id, title, content, user_id, created_at, updated_at
        FROM notice
        WHERE notice_id = #{noticeId}
    </select>

    <select id="selectPreviousNotice" resultType="com.shoppingShop.domain.BoardDto">
        SELECT notice_id, title
        FROM notice
        WHERE notice_id <![CDATA[<]]> #{noticeId}
        ORDER BY notice_id DESC
        LIMIT 1
    </select>

    <!-- 다음 게시글 -->
    <select id="selectNextNotice" resultType="com.shoppingShop.domain.BoardDto">
        SELECT notice_id, title
        FROM notice
        WHERE notice_id <![CDATA[>]]> #{noticeId}
        ORDER BY notice_id ASC
            LIMIT 1
    </select>

</mapper>
